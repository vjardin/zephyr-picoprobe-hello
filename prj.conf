# SPDX-License-Identifier: AGPL-3.0-or-later
# Copyright (c) 2025 Vincent Jardin

# Enable console/UART output
CONFIG_CONSOLE=y
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_LINE_CTRL=y

# Enable USB CDC for console (new USB device stack)
CONFIG_USB_DEVICE_STACK_NEXT=y
CONFIG_CDC_ACM_SERIAL_INITIALIZE_AT_BOOT=y
CONFIG_CDC_ACM_SERIAL_VID=0x2E8A
CONFIG_CDC_ACM_SERIAL_PID=0x000A
CONFIG_CDC_ACM_SERIAL_MANUFACTURER_STRING="RPi-vjardin"
CONFIG_CDC_ACM_SERIAL_PRODUCT_STRING="Debug Probe Shell Demo"

# Enable printk
CONFIG_PRINTK=y

# Enable GPIO for LED control
CONFIG_GPIO=y

# Enable Zephyr Shell
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_SHELL_PROMPT_UART="debug-probe:~$ "

# Shell features
CONFIG_SHELL_CMDS=y
CONFIG_SHELL_TAB=y
CONFIG_SHELL_TAB_AUTOCOMPLETION=y
CONFIG_SHELL_HISTORY=y
CONFIG_SHELL_HISTORY_BUFFER=512
CONFIG_SHELL_HELP=y
CONFIG_SHELL_VT100_COLORS=y
CONFIG_SHELL_METAKEYS=y
CONFIG_SHELL_WILDCARD=y

# Useful built-in commands
CONFIG_KERNEL_SHELL=y
CONFIG_DEVICE_SHELL=y
CONFIG_DATE_SHELL=y
CONFIG_REBOOT=y

# GPIO shell - direct pin control
CONFIG_GPIO_SHELL=y

# Hardware info - device ID, reset cause
CONFIG_HWINFO=y
CONFIG_HWINFO_SHELL=y

# Flash shell - read/write/erase flash
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_SHELL=y

# USB device shell - control USB stack
CONFIG_USBD_SHELL=y

# Logging with shell control
CONFIG_LOG=y
CONFIG_LOG_CMDS=y
CONFIG_SHELL_LOG_BACKEND=y

# CRC shell - checksum utilities
CONFIG_CRC=y
CONFIG_CRC_SHELL=y

# PWM shell - LED brightness control
CONFIG_PWM=y
CONFIG_PWM_SHELL=y

# ADC shell - internal temperature sensor
CONFIG_ADC=y
CONFIG_ADC_SHELL=y

# I2C shell - bus scanning
CONFIG_I2C=y
CONFIG_I2C_SHELL=y

# Watchdog shell
CONFIG_WATCHDOG=y
CONFIG_WDT_SHELL=y

# POSIX uname command
CONFIG_POSIX_API=y
CONFIG_POSIX_SINGLE_PROCESS=y
CONFIG_POSIX_UNAME_SHELL=y

# Increase stack for shell
CONFIG_MAIN_STACK_SIZE=2048
