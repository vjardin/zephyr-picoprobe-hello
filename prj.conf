# SPDX-License-Identifier: AGPL-3.0-or-later
# Copyright (c) 2025 Vincent Jardin

# Enable console/UART output
CONFIG_CONSOLE=y
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_LINE_CTRL=y

# Enable USB CDC for console (new USB device stack)
CONFIG_USB_DEVICE_STACK_NEXT=y
CONFIG_CDC_ACM_SERIAL_INITIALIZE_AT_BOOT=y
CONFIG_CDC_ACM_SERIAL_VID=0x2E8A
CONFIG_CDC_ACM_SERIAL_PID=0x000A
CONFIG_CDC_ACM_SERIAL_MANUFACTURER_STRING="RPi-vjardin"
CONFIG_CDC_ACM_SERIAL_PRODUCT_STRING="Debug Probe Shell Demo"

# Enable printk
CONFIG_PRINTK=y

# Enable GPIO for LED control
CONFIG_GPIO=y

# Enable Zephyr Shell
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_SHELL_PROMPT_UART="debug-probe:~$ "

# Shell features
CONFIG_SHELL_CMDS=y
CONFIG_SHELL_TAB=y
CONFIG_SHELL_TAB_AUTOCOMPLETION=y
CONFIG_SHELL_HISTORY=y
CONFIG_SHELL_HISTORY_BUFFER=512
CONFIG_SHELL_HELP=y
CONFIG_SHELL_VT100_COLORS=y
CONFIG_SHELL_METAKEYS=y
CONFIG_SHELL_WILDCARD=y

# Useful built-in commands
CONFIG_KERNEL_SHELL=y
CONFIG_DEVICE_SHELL=y
CONFIG_DATE_SHELL=y
CONFIG_REBOOT=y

# Increase stack for shell
CONFIG_MAIN_STACK_SIZE=2048
